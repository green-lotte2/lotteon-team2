<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/myLayout}">

<div class="review" layout:fragment="content">
    <ul>
        <span class="menu_else"></span>
        <li><a th:href="@{/mypage/order}">전체주문내역</a></li>
        <!--<li><a href="./favorite.html">관심상품</a></li>-->
        <li><a th:href="@{/mypage/point}">포인트내역</a></li>
        <li><a th:href="@{/mypage/coupon}">쿠폰</a></li>
        <li><a th:href="@{/mypage/review}">나의리뷰</a></li>
        <li><a th:href="@{/mypage/qna}">문의하기</a></li>
        <li><a th:href="@{/mypage/info}">나의설정</a></li>
    </ul>

    <section>
        <a th:href="@{/}"><img th:src="@{/img/my_banner2.png}" alt="패션, 타운 하나로 끝" class="banner"></a>
        <article>
            <h3>나의리뷰</h3>

            <table border="0">
                <tr>
                    <th>번호</th>
                    <th>상품명</th>
                    <th>내용</th>
                    <th>평점</th>
                    <th>작성일</th>
                </tr>
                <tr th:each="review, iterStat : ${reviews}">
                    <td class="no" th:text="${iterStat.index + 1}">5</td>
                    <td class="prodName"><a href="#" th:text="${review.productName}">상품명</a></td>
                    <td class="content" th:text="${review.content}">내용</td>
                    <td class="score" th:classappend="'rating star' + ${review.rating}">평점</td>
                    <td class="date" th:text="${#dates.format(review.date, 'yyyy-MM-dd')}">작성일</td>
                </tr>
            </table>
            <p class="page">
                <!-- 이전 페이지 링크 -->
                <a th:if="${result.pg > 1}" th:href="@{/product/list(cate=${result.cate}, pg=${result.pg - 1})}" class="prev">이전</a>
                <!-- 숫자 페이지 링크 -->
                <span th:each="pageNum : ${#numbers.sequence(result.start, result.end)}">
        <a th:href="@{/product/list(cate=${result.cate}, pg=${pageNum})}"
           th:text="${pageNum}"
           th:class="${pageNum == result.pg ? 'num on' : 'num'}"></a>
    </span>
                <!-- 다음 페이지 링크 -->
                <a th:if="${result.pg < result.totalPage}" th:href="@{/product/list(cate=${result.cate}, pg=${result.pg + 1})}" class="next">다음</a>
            </p>

        </article>
    </section>
</div>
</html>