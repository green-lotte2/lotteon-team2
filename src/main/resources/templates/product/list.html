<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/UserLayout}">

<main class="content" id="product" layout:fragment="content">
    <header>
        <div class="menu">
            <div>
                <ul>
                    <li><a th:href="@{#}">히트상품</a></li>
                    <li><a th:href="@{#}">추천상품</a></li>
                    <li><a th:href="@{#}">최신상품</a></li>
                    <li><a th:href="@{#}">인기상품</a></li>
                    <li><a th:href="@{#}">할인상품</a></li>
                </ul>
                <ul>
                    <li><a th:href="@{#}">쿠폰존</a></li>
                    <li><a th:href="@{#}">사용후기</a></li>
                    <li><a th:href="@{#}">개인결제</a></li>
                    <li><a th:href="@{#}">고객센터</a></li>
                    <li><a th:href="@{#}">FAQ</a></li>
                </ul>
            </div>
        </div>
    </header>
    <aside>
        <ul class="category">
            <li><i class="fa fa-bars" aria-hidden="true"></i>카테고리</li>
            <li>
                <a th:href="@{#}"><i class="fas fa-tshirt"></i>패션·의류·뷰티</a>
                <ol>
                    <li><a th:href="@{#}">남성의류</a></li>
                    <li><a th:href="@{#}">여성의류</a></li>
                    <li><a th:href="@{#}">잡화</a></li>
                    <li><a th:href="@{#}">뷰티</a></li>
                </ol>
            </li>
            <li>
                <a th:href="@{#}"><i class="fas fa-laptop"></i>가전·디지털</a>
                <ol>
                    <li><a th:href="@{#}">노트북/PC</a></li>
                    <li><a th:href="@{#}">가전</a></li>
                    <li><a th:href="@{#}">휴대폰</a></li>
                    <li><a th:href="@{#}">기타</a></li>
                </ol>
            </li>
            <li>
                <a th:href="@{#}"><i class="fas fa-utensils"></i>식품·생필품</a>
                <ol>
                    <li><a th:href="@{#}">신선식품</a></li>
                    <li><a th:href="@{#}">가공식품</a></li>
                    <li><a th:href="@{#}">건강식품</a></li>
                    <li><a th:href="@{#}">생필품</a></li>
                </ol>
            </li>
            <li>
                <a th:href="@{#}"><i class="fas fa-home"></i>홈·문구·취미</a>
                <ol>
                    <li><a th:href="@{#}">가구/DIY</a></li>
                    <li><a th:href="@{#}">침구·커튼</a></li>
                    <li><a th:href="@{#}">생활용품</a></li>
                    <li><a th:href="@{#}">사무용품</a></li>
                </ol>
            </li>
        </ul>
    </aside>


    <section class="list">
              <!-- 제목, 페이지 네비게이션 -->
              <nav>
                <h1>상품목록</h1>
                <p>HOME > <span>패션·의류·뷰티</span> > <strong>남성의류</strong></p>
              </nav>

              <!-- 정렬 메뉴 -->
        <ul class="sort">
            <li><a th:href="@{/product/list(list='?', order='desc')}">판매많은순</a></li>
            <li><a th:href="@{/product/list(list='price', order='asc')}">낮은가격순</a></li>
            <li><a th:href="@{/product/list(list='price', order='desc')}">높은가격순</a></li>
            <li><a th:href="@{/product/list(list='?', order='desc')}">평점높은순</a></li>
            <li><a th:href="@{/product/list(list='?', order='desc')}">후기많은순</a></li>
            <li><a th:href="@{/product/list(list='rdate', order='desc')}">최근등록순</a></li>
        </ul>


        <!-- 상품목록 -->
              <table border="0">                  
                <tr>
                  <td><a th:href="@{/product/view}" class="thumb"><img th:src="@{/images/2. home.jpg}" alt="상품이미지"/></a></td>
                  <td>
                    <h3 class="name">상품명</h3>
                    <a th:href="@{#}" class="desc">상품설명</a>
                  </td>
                  <td>
                    <ul>
                      <li><ins class="dis-price">22,000</ins></li>
                      <li>
                        <del class="org-price">30,000</del>
                        <span class="discount">10%</span>
                      </li>
                      <li><span class="free-delivery">무료배송</span></li>
                    </ul>
                  </td>
                  <td>
                    <h4 class="seller"><i class="fas fa-home"></i>&nbsp;판매자</h4>
                    <h5 class="badge power">판매자등급</h5>
                    <h6 class="rating star1">상품평</h6>
                  </td>
                </tr>



                  <tr th:each="product : ${page}">
                      <td>
                          <a th:href="@{/product/view(pno=${product.pno})}" class="thumb">
                              <img th:src="@{/images/2. home.jpg}" alt="상품이미지" />
                          </a>
                      </td>
                      <td>
                          <h3 class="name" th:text="${product.pname}">상품명</h3>
                          <a th:href="@{/product/view(pno=${product.pno})}" class="desc" th:text="${product.info}">상품설명</a>
                      </td>
                      <td>
                          <ul>
                              <li>
                                  <!-- 할인된 가격을 계산합니다. 숫자를 직접 형식화하지 않고 정수로 출력합니다. -->
                                  <ins class="dis-price" th:text="${#numbers.formatInteger(product.price * (1 - product.discount / 100.0), 0)}">할인된 가격</ins>
                              </li>
                              <li>
                                  <!-- 원래 가격을 출력합니다. -->
                                  <del class="org-price" th:text="${product.price}">30,000</del>
                                  <!-- 할인율 -->
                                  <span class="discount" th:text="${product.discount + '%'}">10%</span>
                              </li>
                              <li>
                                  <!-- 무료 배송 여부를 표시합니다. -->
                                  <span class="free-delivery">무료배송</span>
                              </li>
                          </ul>
                      </td>
                      <td>
                          <!-- 회사 (판매자 정보) -->
                          <h4 class="seller" th:text="${product.company}"><i class="fas fa-home"></i>판매자</h4>
                          <!-- 판매자 등급 및 평점은 데모 데이터이며, 실제 필드가 없습니다. -->
                          <h5 class="badge power">판매자등급</h5>
                          <h6 class="rating star2">상품평</h6>
                      </td>
                  </tr>


              </table>



              <!-- 상품목록 페이지번호 -->
        <div class="paging">
            <!-- 이전 페이지 링크 -->
            <span th:if="${page.hasPrevious()}">
        <a th:href="@{/product/list(page=${page.number - 1}, size=${page.size}, sort=${page.sort})}">&lt; 이전</a>
    </span>
            <!-- 페이지 번호 -->
            <span th:each="i : ${#numbers.sequence(1, page.totalPages)}">
        <a th:href="@{/product/list(page=${i - 1}, size=${page.size}, sort=${page.sort})}" th:text="${i}" th:class="${i == page.number + 1} ? 'on' : ''"></a>
    </span>
            <!-- 다음 페이지 링크 -->
            <span th:if="${page.hasNext()}">
        <a th:href="@{/product/list(page=${page.number + 1}, size=${page.size}, sort=${page.sort})}">다음 &gt;</a>
    </span>
        </div>

    </section>
        </main>
</html>